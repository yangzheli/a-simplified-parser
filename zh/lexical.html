<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>词法分析 | A simplified parser</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="A simplified parser">
    
    <link rel="preload" href="/a-simplified-parser/assets/css/0.styles.569c1002.css" as="style"><link rel="preload" href="/a-simplified-parser/assets/js/app.edec0845.js" as="script"><link rel="preload" href="/a-simplified-parser/assets/js/2.6e66ea0e.js" as="script"><link rel="preload" href="/a-simplified-parser/assets/js/3.24ae4f42.js" as="script"><link rel="prefetch" href="/a-simplified-parser/assets/js/10.052f7154.js"><link rel="prefetch" href="/a-simplified-parser/assets/js/11.8505c338.js"><link rel="prefetch" href="/a-simplified-parser/assets/js/12.dfcfd4d4.js"><link rel="prefetch" href="/a-simplified-parser/assets/js/13.bec14d99.js"><link rel="prefetch" href="/a-simplified-parser/assets/js/4.ff8e6064.js"><link rel="prefetch" href="/a-simplified-parser/assets/js/5.b5b7bce4.js"><link rel="prefetch" href="/a-simplified-parser/assets/js/6.471db325.js"><link rel="prefetch" href="/a-simplified-parser/assets/js/7.c343481e.js"><link rel="prefetch" href="/a-simplified-parser/assets/js/8.aeca95a5.js"><link rel="prefetch" href="/a-simplified-parser/assets/js/9.8043b372.js">
    <link rel="stylesheet" href="/a-simplified-parser/assets/css/0.styles.569c1002.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/a-simplified-parser/" class="home-link router-link-active"><!----> <span class="site-name">A simplified parser</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/a-simplified-parser/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/a-simplified-parser/" class="nav-link">
  Chinese
</a></li></ul></div></div><div class="nav-item"><a href="https://yangzheli.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/yangzheli/a-simplified-parser" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/a-simplified-parser/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/a-simplified-parser/" class="nav-link">
  Chinese
</a></li></ul></div></div><div class="nav-item"><a href="https://yangzheli.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/yangzheli/a-simplified-parser" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/a-simplified-parser/zh/introduce.html" class="sidebar-link">介绍</a></li><li><a href="/a-simplified-parser/zh/solution.html" class="sidebar-link">思路</a></li><li><a href="/a-simplified-parser/zh/encoding.html" class="sidebar-link">字符编码</a></li><li><a href="/a-simplified-parser/zh/lexical.html" aria-current="page" class="active sidebar-link">词法分析</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/a-simplified-parser/zh/lexical.html#单词类型" class="sidebar-link">单词类型</a></li><li class="sidebar-sub-header"><a href="/a-simplified-parser/zh/lexical.html#数字类型-numeric-literals" class="sidebar-link">数字类型 (Numeric Literals)</a></li></ul></li><li><a href="/a-simplified-parser/zh/syntax.html" class="sidebar-link">语法分析</a></li><li><a href="/a-simplified-parser/zh/summary.html" class="sidebar-link">总结</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="词法分析"><a href="#词法分析" class="header-anchor">#</a> 词法分析</h1> <h2 id="单词类型"><a href="#单词类型" class="header-anchor">#</a> 单词类型</h2> <p>根据 <a href="https://262.ecma-international.org/12.0/" target="_blank" rel="noopener noreferrer">ECMA262<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，在识别单词时，会忽略字符序列中的 <strong>空白符</strong> (white space)、<strong>行终止符</strong> (line terminator) 和 <strong>注释</strong> (comment)。</p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>本文中涉及词法标准都来自 <a href="https://262.ecma-international.org/12.0/" target="_blank" rel="noopener noreferrer">ECMA262<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，强烈推荐阅读最新文档。</p></div> <p><a href="https://262.ecma-international.org/12.0/" target="_blank" rel="noopener noreferrer">ECMA262<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 定义，单词类型可以大致分为：</p> <p><img src="data:image/png;base64,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" alt="token type"></p> <blockquote><p>The DivPunctuator, RegularExpressionLiteral, RightBracePunctuator, and TemplateSubstitutionTail productions derive additional tokens that are not included in the CommonToken production.</p></blockquote> <p>因此，可以将 ECMAScript 能够识别的单词类型归纳为：</p> <ul><li><p>数字 (number and bigint)；</p></li> <li><p>(广义上的) 标识符 (identifier and keyword)；</p></li> <li><p>标点符号 (punctuator)；</p></li> <li><p>字符串 (string)；</p></li> <li><p>模板字符串 (template)；</p></li> <li><p>正则表达式 (regexp)。</p></li></ul> <h2 id="数字类型-numeric-literals"><a href="#数字类型-numeric-literals" class="header-anchor">#</a> 数字类型 (Numeric Literals)</h2> <blockquote><p>ECMAScript has two built-in numeric types: Number and BigInt.</p></blockquote> <p><code>ES2020</code> 为支持更大范围的整数值，新增了 <code>bigint</code> 基本数据类型。</p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>包括 <code>bigint</code>，目前 <code>ES2021</code> 共有 8 中数据类型：<code>Undefined</code>，<code>Null</code>，<code>Boolean</code>，<code>String</code>，<code>Symbol</code>， <code>Number</code>， <code>BigInt</code> 和  <code>Object</code>。</p></div> <p>其中 <code>number</code> 和 <code>bigint</code> 又各自分为十进制 (Decimal)、二进制 (Binary)、八进制 (Octal)、十六进制 (Hex) 四类。</p> <p>首先，来测试两个简单的例子 (示例为 Chrome 控制台输出):</p> <ul><li>非严格模式下</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&gt;&gt;</span> <span class="token number">012</span>
<span class="token number">10</span>

<span class="token operator">&gt;&gt;</span> <span class="token number">079</span>
<span class="token number">79</span>
</code></pre></div><ul><li>严格模式下</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&gt;&gt;</span> <span class="token string">&quot;use strict&quot;</span>
<span class="token operator">&gt;&gt;</span> <span class="token number">012</span>
<span class="token string">&quot;Uncaught SyntaxError: Unexpected number&quot;</span> 

<span class="token operator">&gt;&gt;</span> <span class="token number">079</span>
<span class="token string">&quot;Uncaught SyntaxError: Unexpected number&quot;</span>
</code></pre></div><blockquote><p>When processing strict mode code, must not extend the syntax of NumericLiteral to include LegacyOctalIntegerLiteral, nor extend the syntax of DecimalIntegerLiteral to include NonOctalDecimalIntegerLiteral.</p></blockquote> <p>因此，对于严格模式和非严格模式需要区分考虑。首先来分析严格模式下十进制数字 (DecimalLiteral) 的定义:</p> <p><img src="/a-simplified-parser/assets/img/decimal-literal.cb4166ea.png" alt="decimal literal"></p> <p>可以看到，十进制数字由整数部分、小数部分和指数部分组成。</p> <p>这三部分又有各自的定义：</p> <ul><li>整数部分</li></ul> <p><img src="/a-simplified-parser/assets/img/decimal-integer-literal.2ef12254.png" alt="decimal literal"></p> <p>整数部分定义为数字 <code>0</code>，或数字 <code>1-9</code> 开头，数字 <code>0-9</code> 组成，数字之间可以插入单个分隔符 <code>_</code>。</p> <ul><li>小数部分</li></ul> <p><img src="/a-simplified-parser/assets/img/decimal-digits.e05cb13f.png" alt="decimal literal"></p> <p>小数部分定义为由数字 <code>0-9</code> 组成，数字之间可以插入单个分隔符 <code>_</code>。</p> <ul><li>指数部分</li></ul> <p><img src="data:image/png;base64,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" alt="decimal literal"></p> <p>指数部分定义为由字符 <code>e/E</code> 开头，可选的符号位 <code>+/-</code>，数字 <code>0-9</code> 组成，数字之间可以插入单个分隔符 <code>_</code>。</p> <p><code>0-9</code> <code>e E</code> <code>+ -</code>，其中对于 <code>-12e+1</code> 中 <code>-</code> 应该额外当作一元运算符，而不把它和数字 <code>12e+1</code> 放在一起解析为一个单词。</p> <p>同时 <code>ES2021</code> 新增了 <code>_</code> 作为数字分隔符，因此 <code>1_200e+1_0</code> 也是合法的数字。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&gt;&gt;</span> <span class="token number">1_200e+1_0</span>
<span class="token number">12000000000000</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> pos <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">readNumber</span><span class="token punctuation">(</span><span class="token parameter">input</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  input <span class="token operator">=</span> <span class="token function">String</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> start <span class="token operator">=</span> pos<span class="token punctuation">;</span>

  <span class="token comment">// 整数部分</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">readDecimalDigits</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">SyntaxError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>pos <span class="token operator">-</span> start <span class="token operator">&gt;=</span> <span class="token number">2</span> <span class="token operator">&amp;&amp;</span> input<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span>start<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">48</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">SyntaxError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 小数部分</span>
  <span class="token keyword">let</span> code <span class="token operator">=</span> input<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span>pos<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>code <span class="token operator">===</span> <span class="token number">46</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// .</span>
    <span class="token operator">++</span>pos<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">readDecimalDigits</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">SyntaxError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    code <span class="token operator">=</span> input<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span>pos<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 指数部分</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>code <span class="token operator">===</span> <span class="token number">69</span> <span class="token operator">||</span> code <span class="token operator">===</span> <span class="token number">101</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// e/E</span>
    code <span class="token operator">=</span> input<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token operator">++</span>pos<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>code <span class="token operator">===</span> <span class="token number">43</span> <span class="token operator">||</span> code <span class="token operator">===</span> <span class="token number">45</span><span class="token punctuation">)</span><span class="token operator">++</span>pos<span class="token punctuation">;</span>  <span class="token comment">// +/-</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">readDecimalDigits</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">SyntaxError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  input <span class="token operator">=</span> input<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> pos<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">_</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> val <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> val<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// DecimalDigits</span>
<span class="token keyword">function</span> <span class="token function">readDecimalDigits</span><span class="token punctuation">(</span><span class="token parameter">input</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> start <span class="token operator">=</span> pos<span class="token punctuation">,</span> lastCode <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> len <span class="token operator">=</span> input<span class="token punctuation">.</span>length<span class="token punctuation">;</span> pos <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">,</span> <span class="token operator">++</span>pos<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> code <span class="token operator">=</span> input<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span>pos<span class="token punctuation">)</span><span class="token punctuation">,</span> val <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>code <span class="token operator">===</span> <span class="token number">95</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// 分隔符_</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">||</span> lastCode <span class="token operator">===</span> <span class="token number">95</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">SyntaxError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      lastCode <span class="token operator">=</span> code<span class="token punctuation">;</span>
      <span class="token keyword">continue</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>code <span class="token operator">&gt;=</span> <span class="token number">48</span> <span class="token operator">&amp;&amp;</span> code <span class="token operator">&lt;=</span> <span class="token number">57</span><span class="token punctuation">)</span> val <span class="token operator">=</span> code <span class="token operator">-</span> <span class="token number">48</span><span class="token punctuation">;</span>  <span class="token comment">// 0-9</span>
    <span class="token keyword">else</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
    lastCode <span class="token operator">=</span> code<span class="token punctuation">;</span>
    total <span class="token operator">=</span> total <span class="token operator">*</span> <span class="token number">10</span> <span class="token operator">+</span> val<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>lastCode <span class="token operator">===</span> <span class="token number">95</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">SyntaxError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> start <span class="token operator">!==</span> pos <span class="token operator">?</span> total <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/yangzheli/a-simplified-parser/edit/master/docs/zh/lexical.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2021/8/18上午1:48:06</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/a-simplified-parser/zh/encoding.html" class="prev">
        字符编码
      </a></span> <span class="next"><a href="/a-simplified-parser/zh/syntax.html">
        语法分析
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/a-simplified-parser/assets/js/app.edec0845.js" defer></script><script src="/a-simplified-parser/assets/js/2.6e66ea0e.js" defer></script><script src="/a-simplified-parser/assets/js/3.24ae4f42.js" defer></script>
  </body>
</html>
