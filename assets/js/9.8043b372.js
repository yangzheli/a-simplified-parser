(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{378:function(t,s,a){"use strict";a.r(s);var n=a(45),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"javascript-字符编码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#javascript-字符编码"}},[t._v("#")]),t._v(" JavaScript 字符编码")]),t._v(" "),a("p",[t._v("在进行词法分析时，字符编码问题是不可避免的。比如对于字符 "),a("code",[t._v("'😀'")]),t._v(" 或者类似 "),a("code",[t._v("'\\x68'")]),t._v(" 的转义字符，如何正确处理它们是必须要考虑的。因此在词法分析之前，先来讨论一下 JavaScript 的字符编码规则。")]),t._v(" "),a("h2",{attrs:{id:"unicode-字符集"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#unicode-字符集"}},[t._v("#")]),t._v(" Unicode 字符集")]),t._v(" "),a("blockquote",[a("p",[t._v("A conforming implementation of ECMAScript must interpret source text input in conformance with the latest version of the Unicode Standard and ISO/IEC 10646.")])]),t._v(" "),a("p",[t._v("根据 "),a("a",{attrs:{href:"https://262.ecma-international.org/12.0/",target:"_blank",rel:"noopener noreferrer"}},[t._v("ECMA262"),a("OutboundLink")],1),t._v("，ECMAScript 采用的是 "),a("a",{attrs:{href:"https://unicode.org/versions/latest",target:"_blank",rel:"noopener noreferrer"}},[t._v("Unicode"),a("OutboundLink")],1),t._v(" 字符集。")]),t._v(" "),a("p",[t._v("为涵盖世界上所有的字符，Unicode 字符共分为 17 个平面，每个平面包含 2^16 (65,536) 个码位 (code point)。其中 0 号平面称为基本平面 (BMP)，包含的码位从 "),a("code",[t._v("U+0000")]),t._v(" 到 "),a("code",[t._v("U+FFFF")]),t._v("；剩余的 16 个平面称为辅助平面 (SMP)，包含的码位从 "),a("code",[t._v("U+010000")]),t._v(" 到 "),a("code",[t._v("U+10FFFF")]),t._v("。")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("p",[t._v("目前 Unicode 13.0.0 包含 143,859 个字符。")])]),t._v(" "),a("p",[t._v("其中每个 Unicode 字符都有对应的码位，比如 "),a("code",[t._v("😀")]),t._v(" 的码位为 "),a("code",[t._v("U+1F600")]),t._v("，可以在 "),a("a",{attrs:{href:"https://www.unicode.org/charts/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Unicode 13.0 Character Code Charts"),a("OutboundLink")],1),t._v(" 中找到每个码位对应的 Unicode 字符。")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.unicode.org/emoji/charts-13.0/emoji-list.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Emoji List"),a("OutboundLink")],1),t._v(" 包含了所有的 Unicode 表情 😲")])]),t._v(" "),a("h2",{attrs:{id:"转义字符"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#转义字符"}},[t._v("#")]),t._v(" 转义字符")]),t._v(" "),a("p",[t._v("除了直接使用 Unicode 字符外，还可以使用转义字符来表示它们。比如：")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\x68\\x65\\x6c\\x6c\\x6f'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\u0068\\u0065\\u006c\\u006c\\u006f'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello'")]),t._v("\n")])])]),a("p",[t._v("以 "),a("code",[t._v("\\x")]),t._v(" 开头，后接两位 16 进制数来表示码位从 "),a("code",[t._v("U+0000")]),t._v(" 到 "),a("code",[t._v("U+00FF")]),t._v(" 的 Unicode 字符；以 "),a("code",[t._v("\\u")]),t._v(" 开头，后接四位 16 进制数来表示码位从 "),a("code",[t._v("U+0000")]),t._v(" 到 "),a("code",[t._v("U+FFFF")]),t._v(" 的 Unicode 字符。转义字符表示的 Unicode 字符就是码位所对应的字符，如 "),a("code",[t._v("\\x68")]),t._v(" 和 "),a("code",[t._v("\\u0068")]),t._v(" 都表示字符 "),a("code",[t._v("h")]),t._v("。")]),t._v(" "),a("p",[t._v("但是对于辅助平面的字符也能用上述方法表示吗？")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\u1F600'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ὠ0'")]),t._v("\n")])])]),a("p",[a("code",[t._v("U+1F600")]),t._v(" 是 "),a("code",[t._v("😀")]),t._v(" 的码位，但输出却不是预期的结果。这是因为 JavaScript 采用的是 "),a("strong",[a("code",[t._v("UCS-2")])]),t._v(" 编码，而非 "),a("strong",[a("code",[t._v("UTF-16")])]),t._v("。")]),t._v(" "),a("h2",{attrs:{id:"ucs-2-与-utf-16-编码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ucs-2-与-utf-16-编码"}},[t._v("#")]),t._v(" UCS-2 与 UTF-16 编码")]),t._v(" "),a("p",[a("strong",[a("code",[t._v("UCS-2")])]),t._v(" 是一种固定长度的编码格式，用来表示 2 个字节的字符，如果是 4 个字节的字符，会被当成两个 2 字节字符处理。因此 "),a("code",[t._v("\\u1F600")]),t._v(" 被当成两个单独的字符 "),a("code",[t._v("\\u1F60")]),t._v(" 和 "),a("code",[t._v("0")]),t._v("。")]),t._v(" "),a("p",[a("strong",[a("code",[t._v("UTF-16")])]),t._v(" 在 "),a("strong",[a("code",[t._v("UCS-2")])]),t._v(" 之后公布，它是 "),a("strong",[a("code",[t._v("UCS-2")])]),t._v(" 的超集，是一种可变长度的编码格式。"),a("strong",[a("code",[t._v("UTF-16")])]),t._v(" 既可以表示 2 个字节的字符 "),a("code",[t._v("U+0000")]),t._v(" 到 "),a("code",[t._v("U+FFFF")]),t._v("，也可以表示 4 个字节的字符 "),a("code",[t._v("U+010000")]),t._v(" 到 "),a("code",[t._v("U+10FFFF")]),t._v("。")]),t._v(" "),a("p",[t._v("对于 2 个字节的字符，"),a("strong",[a("code",[t._v("UTF-16")])]),t._v(" 编码结果和 "),a("strong",[a("code",[t._v("UCS-2")])]),t._v(" 一致；而对于 4 个字节的字符， "),a("strong",[a("code",[t._v("UTF-16")])]),t._v(" 采用 "),a("strong",[t._v("代理对")]),t._v(" 来表示。")]),t._v(" "),a("p",[t._v("在基本平面中 "),a("code",[t._v("U+D800")]),t._v(" 到 "),a("code",[t._v("U+DFFF")]),t._v(" 没有表示任何字符，它们用于映射辅助平面中的字符。代理对的前 2 个字节的字符总在 "),a("code",[t._v("U+D800")]),t._v("到 "),a("code",[t._v("U+DBFF")]),t._v(" 之间，为高位代理 (H)；后 2 个字节的字符总在 "),a("code",[t._v("U+DC00")]),t._v("到 "),a("code",[t._v("U+DFFF")]),t._v(" 之间，为低位代理 (L)。")]),t._v(" "),a("p",[t._v("可以通过 "),a("a",{attrs:{href:"http://unicode.org/versions/Unicode3.0.0/ch03.pdf",target:"_blank",rel:"noopener noreferrer"}},[t._v("The Unicode Standard 3.0"),a("OutboundLink")],1),t._v(" 中的转换公式来将辅助平面的码位 "),a("code",[t._v("C")]),t._v(" 使用代理对 "),a("code",[t._v("<H, L>")]),t._v(" 表示：")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("H")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Math"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("floor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x10000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x400")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0xd800")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("L")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x10000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x400")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0xdc00")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("也可以用另一公式将代理对 "),a("code",[t._v("<H, L>")]),t._v(" 转换回码位 "),a("code",[t._v("C")]),t._v("：")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("H")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0xd800")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x400")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("L")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0xdc00")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x10000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("因此，上述示例中 "),a("code",[t._v("\\u1F600")]),t._v(" 使用代理对表示就是 "),a("code",[t._v("\\ud83d \\ude00")]),t._v("：")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\ud83d\\ude00'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'😀'")]),t._v("\n")])])]),a("p",[t._v("当然，对于 "),a("strong",[a("code",[t._v("UCS-2")])]),t._v(" 编码，除了使用代理对，"),a("strong",[a("code",[t._v("ES2015")])]),t._v(" 中还引入了一种新的 Unicode 字符表示法，只要将码位放入 "),a("code",[t._v("{}")]),t._v(" 内，无论是基本平面还是辅助平面，都是正确识别。")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\u{0068}\\u{0065}\\u{006c}\\u{006c}\\u{006f}'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\u{1F600}'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'😀'")]),t._v("\n")])])]),a("p",[t._v("同时，"),a("strong",[a("code",[t._v("ES2015")])]),t._v(" 还增加了一些处理 Unicode 字符的方法：")]),t._v(" "),a("ul",[a("li",[a("strong",[a("code",[t._v("String.fromCodePoint()")])]),t._v("：返回 Unicode 码位对应的字符；")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" String"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fromCodePoint")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x0068")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x0065")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x006c")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x006c")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x006f")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" String"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fromCodePoint")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x1F600")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'😀'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" String"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fromCodePoint")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0xd83d")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0xde00")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'😀'")]),t._v("\n")])])]),a("ul",[a("li",[a("strong",[a("code",[t._v("String.prototype.codePointAt()")])]),t._v("：返回给定索引字符对应的 Unicode 码位，它完整地处理整个字符而不是代理对的一部分；")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'😀'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("codePointAt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("128512")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 0x1F600")]),t._v("\n")])])]),a("ul",[a("li",[a("strong",[a("code",[t._v("String.prototype.charAt()")])]),t._v("：返回字符串给定索引的字符，它获取的一个代理项而不是整个字符。")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'😀'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("charAt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\ud83d'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'😀'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("charAt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\ude00'")]),t._v("\n")])])]),a("p",[t._v("对于正则表达式，"),a("strong",[a("code",[t._v("ES2015")])]),t._v(" 增加了修饰符 "),a("code",[t._v("u")]),t._v("，来正确处理辅助平面的 Unicode 字符。")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("^.$")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'😀'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("^.$")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-flags"}},[t._v("u")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'😀'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("[😀-😙]")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'😘'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Uncaught SyntaxError: Invalid regular expression: /[😀-😙]/: Range out of order in character class'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("[😀-😙]")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-flags"}},[t._v("u")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'😘'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n")])])]),a("h2",{attrs:{id:"参考"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://mathiasbynens.be/notes/javascript-unicode",target:"_blank",rel:"noopener noreferrer"}},[t._v("Mathias - JavaScript has a Unicode problem"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://mathiasbynens.be/notes/javascript-encoding",target:"_blank",rel:"noopener noreferrer"}},[t._v("Mathias - JavaScript’s internal character encoding: UCS-2 or UTF-16?"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2014/12/unicode.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("阮一峰 - Unicode 与 JavaScript 详解"),a("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=e.exports}}]);